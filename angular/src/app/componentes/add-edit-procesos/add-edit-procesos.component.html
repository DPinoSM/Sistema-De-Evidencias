<app-navbar></app-navbar>

<div class="row mt-4">
  <div class="col-lg-4 offset-lg-4">
    <div class="card text-white bg-secondary mb-3" style="max-width: 25rem">
      <div class="card-header text-center">
        {{ editProcesoId ? "Editar Proceso" : "Agregar Proceso" }}
      </div>
      <div class="card-body">
        <form [formGroup]="form" (ngSubmit)="addProceso($event)">
          <div class="form-group">
            <label for="codigo_procesos">Código</label>
            <input
              type="string"
              id="codigo_procesos"
              class="form-control"
              formControlName="codigo_procesos"
              placeholder="Ingrese el código del Proceso"
              required
            />
            <div
              *ngIf="
                form.get('codigo_procesos')?.hasError('required') &&
                form.get('codigo_procesos')?.touched
              "
              class="text-danger"
            >
              El código es obligatorio
            </div>
          </div>
          <div class="form-group">
            <label for="nombre_procesos">Nombre</label>
            <input
              type="text"
              id="nombre_procesos"
              class="form-control"
              formControlName="nombre_procesos"
              placeholder="Ingrese el nombre del Proceso"
              required
            />
            <div
              *ngIf="
                form.get('nombre_procesos')?.hasError('required') &&
                form.get('nombre_procesos')?.touched
              "
              class="text-danger"
            >
              El nombre es obligatorio
            </div>
          </div>
          <div class="form-check form-switch bg-secondary mt-3">
            <input
              class="form-check-input"
              type="checkbox"
              id="estado_procesos"
              formControlName="estado_procesos"
            />
            <label class="form-check-label" for="estado_procesos">Estado</label>
            <div
              *ngIf="
                form.get('estado_procesos')?.hasError('required') &&
                form.get('estado_procesos')?.touched
              "
              class="text-danger"
            >
              El estado es obligatorio
            </div>
          </div>

          <div *ngIf="errorMsg" class="text-danger">{{ errorMsg }}</div>

          <div class="row mt-2 text-center">
            <div class="col-lg-6">
              <button [routerLink]="['/procesos']" class="btn btn-danger mt-3">
                Volver
              </button>
            </div>
            <div class="col-lg-6">
              <button
                type="submit"
                class="btn btn-primary mt-3"
                [disabled]="!form.valid"
              >
                Aceptar
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
